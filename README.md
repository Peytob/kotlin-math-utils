# Kotlin Math Utils (KMU)

Библиотека математических функций и объектов. Библиотека предназначается для разработки в области компьютерной графики и процедурной генерации.

Реализация линейной алгебры сделана таким образом, что может быть удобно использована совместно с [LWJGL](https://github.com/LWJGL/lwjgl3) (OpenGL). Многие методы и функции портированы из [GLM](https://github.com/g-truc/glm) и полностью соответствуют методам GLM, однако полного соответствия достичь не удалось.

Предыдущая версия библиотеки базировалась на генерации кода векторов и всех операций посредствам Kpoet. Однако, количество усилий при генерации кода значительно увеличивается и усложняется отладка. Так как этой библиотекой пользуется буквально один человек (ее автор) - проще отказаться от кодогенерации :)

## Features

### Вектора

Поддерживаемые виды векторов:

+ Двухкомпонентные вектора вида (x, y)

Поддерживаемые типы данных векторов:

+ Float (float32)
+ Double (float64)
+ Int (int32)
+ Long (int64)

Поддерживаемые операции над векторами:

+ Базовые арифметические операции вектор - вектор (сложение (+), вычитание (-), векторное (*) и скалярное (dot) произведение)
+ Базовые арифметические операции вектор - скаляр (сложение (+), вычитание (-), векторное (*) произведение)

На данный момент поддерживается только организация векторов в памяти только подходом AoS. В будущем планируется поддержка подхода SoA.

### Матрицы

Пока что и тут пусто...

### Шумы

Пока что и тут пусто...

### Правила выполнения вычислений

При выполнении всех арифметических операций происходит автоматическое приведение примитива результирующего вектора к типу **левого** операнда. Это касается типов в любых арифметических операциях. Таким образом появляется возможность создавать меньшее количество объектов и использовать меньшее количество приведений типов при работе.

Рассмотрим приведение примитивов векторов при сложении. Аналогично для любых других операций.

```kotlin
val a: Vec3f = immutableVec3f(1.1f, 4.2f)
val b: Vec3i = immutableVec3i(2, 5)

val apb: Vec3f = a + b // (3.1f, 9.2f)
val bpa: Vec3i = b + a // (3, 9)
```

### Demo

Пока что и тут пусто...
